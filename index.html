<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>The Wedding Of Hilwa & Arief</title>
  <!-- <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playwrite+CO+Guides&family=Satisfy&display=swap" rel="stylesheet"> -->
  <style>

:root{
  /* atur variable tinggi dan lebar element*/
  --man-height: 20vh ;
  --man-width: calc(var(--man-height) * 2024/2694);
  --woman-height: 20vh ;
  --woman-width: calc(var(--woman-height) * 585/860);
  --pantai-heigh: 100vh ;
  --pantai-width: calc(var(--pantai-heigh) * 1164/655);
  

  /* menentukan Variable tengah halaman */
  --mid-height: 50vh ;
  --mid-width: 50vw;

  /* Buat variable x dan y untuk meletakkan di tengah */
  --xman-center: calc((100vw - var(--man-width))*0.5);
  --yman-center: calc((100vh - var(--man-height))*0.5);
  --xwoman-center: calc((100vw - var(--woman-width))*.5);
  --ywoman-center: calc((100vh - var(--woman-height))*0.5);
  --xpantai-center: calc((100vw - var(--pantai-width))*0.5);
  --ypantai-center: calc((100vh - var(--pantai-heigh))*0.5);
  --xtext-coord: -12vw;
  --ytext-coord: 40vh;
}

body{
  font-family:'Satisfy', Verdana, Geneva, Tahoma, sans-serif ;    
  background-color: rgb(245, 245, 255);
  min-height:100vh ;
  width: 100vw;
  margin: 0px;
  overflow: hidden;
}

/* menyembunyikan loading Page saat selesai */
.loadingPage.hidden{
  opacity: 0;
  visibility: hidden;
}


/* pengaturan loadig Page */
.loadingPage{
  height: 100vh;
  width: 100vw;
  position: absolute;
  left:0;
  top:0;
  z-index: 2;
  background-color: pink;
}

/* pengaturan tampilan awal */
.main {
  opacity: 0;
  visibility: hidden;
  transition: 1s ease opacity;
  height: 100vh;
  width: 100vw;
  position: absolute;
  perspective: 500px;
  left:0;
  perspective-origin:  var(--mid-width) var(--mid-height);
}


.main.visible{
  opacity: 1;
  visibility: visible;
}

/* Pengaturan Loading Word */
.loadingWord{
  position: relative;
  font-size: 1rem;
  width: 5rem ;
  left: 46%;
  top: 50%;
  animation: 2s ease alternate infinite loading;
  overflow: hidden;
}

@keyframes loading {
  to{
    width:0px
  }}

/* Pengaturan display door di awal */
.door{
  position: absolute;
  background-color: pink;
  z-index: 1;
  opacity: 0;
}
div.door {
  width: 50vw;
  height: 100vh;
  transition: 1.5s transform, 1.3s 0.2s opacity ;
}
.door#right{
  transform-origin: right;
  left: 50vw;
}
.door#left{
  transform-origin: left;
}
h1.door , h2.door{
  position: relative;
  display: flex;
  justify-self: center;
  transform: translateY(42vh);
  background-color: transparent;
  transition: 1.3s .2s opacity, 1.3s .1s scale;
}
h1.door{
  font-size: 1.7rem;
}
h2.door{
  font-size: 1.5rem;
}


/* Pengaturan awal semua Item */
.openingWord1{
  position: absolute;
  margin: 0px;
  font-size: .5rem;
  width: 20vw;
  height: .6rem;
  overflow: hidden;
  transform: translate3d(0vw, 0vh, 1px)
  }

.man{
  height: var(--man-height);
  position: absolute;
  transform: translate3d(calc(var(--xman-center) - 20vw), calc(var(--yman-center) + 28vh) , 1px); 
  }

#woman{
  height: var(--woman-height);
  position: absolute;
  transform: translate3d(calc(var(--xwoman-center) - 9vh), calc(var(--ywoman-center) + 27vh), 1px );
}

#pantai{
  height: 100vh;
  position: absolute;
  z-index: -1;
  transform: translate3d(var(--xpantai-center), var(--ypantai-center) , 1px);
}

#background{
  width: 100vw;
  position: absolute;
  z-index: -2;
  transform: translate3d(0vw,  -30vh , 0px);
}

/* -----okee scene 1-------- */
.scene0 .door{opacity: 1}
.scene1 div.door#left{
  transform: rotateY(-100deg);
  opacity: 0;
}
.scene1 div.door#right{
  transform: rotateY(100deg);
  opacity: 0;
}
.scene1 h1.door, .scene1 h2.door{
  opacity : 0;
  scale : 1.1;
}



/* -----scene 2-------- */











/* mencoba membuat div perspektif */
/* .act0 div{transform: translate(120vw , 0);perspective: 1000px;}
.act1 div{transform: translate(170vw , 0); perspective: 80px;} 
.act1 h1{ width: 300px;transition: width 1.4s linear 3s;} 
.act2 div{transform: translate(30vw, -10vh);perspective: 500px;}
.act2 h1{ width: 300px; transition: opacity 1.4s linear ;opacity: 0 }
.act3 div{transform: translate(60%, 80%);
perspective: 600px;} */
/* masih mencoba untuk bisa membuat animasi, 
keknya langsung praktik dengan Click dan Tranlate 3d aja lah ya
update Minggu 5 Januari 2025 jam 12.30
- sudah bisa click dan double click,
- animasi bisa dengan menu transisi, jadi untuk case ini kita pakai transisi saja,
kita maindi transisi dan class di body aja

update jam 13.57
-ternyata aku gak bisa ngambil nilai lebar window di css, tahapa kurasa

update jam 17.28
-tah ngapain aja aku dari tadi huuu

Update jam 18.10
-dah bisaaaaaa, tinggal pande2 bagaimana cara membuat step by step nya. yang diubah cuman "*.6" itu itunya ajaaaa
 
update jam 00.45
-keknya perlu dibuat perubahan sedikit, untuk menentukan anchor point dulu dengan :root baru gaskan geser2 Pake px

update tanggal 11 januari 2025 jam 18.04
-yang di transform itu perpectivenya, bukan translate z nya

update 12 jan 2025 16.08
-kita gaperlu pake --window-width karena kita bisa menggantikannya dengan 100vw, satuannya vw yaitu viewport windth

update jam 23.51
-udah diubah semua --window-width menjadi vw dan juga vh

update 13 jan 2025 0051
-susah kali pun ngaturkan posisinya ini, tdr aja lah aku

update 14 jan 2025 23:38
-hilwa ngasi saran untuk ngubah click menjadi scroll, susah sih, tapi yauda la kita coba aja, toh nambah2 pintar jugak uahahahaha

update jam 00:10
-Scroll sudah jalan ya, tinggal gaskan masukkan Translate3D

upadate 26 jan 2025 15.59
-kuganti scroll menjadi triger, gak menjadi patokan utama pergerakan animasi
-tugas selanjutnya untuk membuat animasi dengan CSS biar lebih mudah 
*/

  </style>
</head>

<body>
  <div class="loadingPage">
    <h1 class="loadingWord"> Loading... </h1>
  </div>
  
  <div class="main scene0" >
    <div class="door" id="left"></div>
    <div class="door" id="right"></div>
    <h1 class="door"> Undangan Pernikahan Hilwa & Arief</h1>
    <h2 class="door"> Kepada Yth: Fulan</h2>
    <img src="man.png"  class="man">
    <img src="woman.png"  id="woman">
    <img src="pantai.png" id="pantai">
    <img src="pantai2.png" id="background">
    <h1 class="openingWord1"> The Wedding Of Hilwa & Arief </h1>
  </div>
 
  
  <script>

  //-----------Bagian logika pindah scene-------------
  let scrollPosition = 0; // Posisi scroll virtual
  let scrollDirrection = 0;
  let sceneNumber = 0;
  let targetScrollPosition = 0; // Posisi scroll tujuan
  let startY = 0; // Posisi awal sentuhan pada layar
  const main = document.querySelector('.main');
  

  // Fungsi untuk memperbarui animasi
  function updateAnimation() {
    // untuk membuat perubahan nomor scene
   
    scrollDirrection = (targetScrollPosition - scrollPosition);
    scrollPosition = targetScrollPosition;
    
    if(scrollDirrection>=10){
      sceneNumber+=1;
    }
    else if(scrollDirrection<=-10){
      sceneNumber-=1;
      sceneNumber = Math.max(sceneNumber,0);
    }
    console.log(targetScrollPosition, scrollPosition, scrollDirrection, sceneNumber);
    // Log posisi scroll ke console
      
    main.className = main.className.replace(/scene\d+/g, '');
    main.classList.add(`scene${sceneNumber}`);
    
  }

    // Event untuk desktop (mouse scroll)
    window.addEventListener('wheel', (event) => {
      targetScrollPosition += event.deltaY/20; // Tambah/mengurangi posisi tujuan
      //targetScrollPosition = Math.max(0, targetScrollPosition); // Hindari nilai negatif
      setTimeout(()=>{updateAnimation();},200);
       // Mulai animasi
    });

    // Event untuk perangkat layar sentuh (touchmove)
    document.addEventListener('touchstart', (event) => {
      startY = event.touches[0].clientY; // Catat posisi sentuhan awal
    });

    document.addEventListener('touchmove', (event) => {
      const currentY = event.touches[0].clientY; // Posisi sentuhan saat ini
      const deltaY = startY - currentY; // Hitung perubahan posisi
      targetScrollPosition += deltaY/20; // Tambah ke posisi tujuan
      targetScrollPosition = Math.max(0, targetScrollPosition); // Hindari nilai negatif
      startY = currentY; // Update posisi sentuhan
      setTimeout(()=>{updateAnimation();},200); // Mulai animasi
    });   

    //-------------- Bagian Loading Page-------------

    const loadingPage = document.querySelector('.loadingPage')
    
    window.addEventListener('load', () => {
      loadingPage.classList.add('hidden')
      main.classList.add('visible')
      scrollPosition = 0;
    })
</script>



</body>
</html>
